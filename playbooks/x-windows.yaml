---
- name: Install X Window System
  hosts: localhost
  remote_user: lpsouza
  become: true
  become_user: root
  become_method: sudo
  gather_facts: false

  tasks:
    - name: Install xorg, xinit, i3 and xrdp
      apt:
        name: "{{ item }}"
        state: present
        update_cache: true
      with_items:
        - xorg
        - xinit
        - i3
        - xrdp
        - kitty

    - name: Change default terminal to kitty
      command: update-alternatives --set x-terminal-emulator /usr/bin/kitty
      changed_when: true
